pipeline{
    agent any
    environment {
        VERSION = '1.0.0'
        RELEASE_VERSION = '2.3.4'
    }
    stages{
        stage('tools'){
            steps{
                echo "executing first stage"
                bat 'dir'
                bat '''
                java --version
                git --version
                mvn --version 
                '''
            }
        }
        stage('test'){
            steps{
                bat dir('./maven-samples/single-module'){
                   echo "executing second stage"
                   bat 'mvn test' 
                }             
            }
        }
        stage('build'){
            steps{
                echo "executing third stage"
                bat 'mvn -f ./maven-samples/single-module/pom.xml clean package'
            }
        }
    }
}
   
